<!DOCTYPE html>
<html lang="it" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Custom Dialog - Service Hub Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Custom Dialog -->
    <script src="/js/custom-dialog.js"></script>
</head>
<body class="min-h-screen theme-transition bg-gray-100 dark:bg-gray-900">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
                    Test Custom Dialog Component
                </h1>
                <p class="text-gray-600 dark:text-gray-300">
                    Test the new custom dialog that replaces browser alerts
                </p>
            </div>

            <!-- Test Buttons -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <!-- Basic Logout Test -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
                        Test Logout Dialog
                    </h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">
                        Test the logout confirmation dialog with Italian text
                    </p>
                    <button 
                        onclick="testLogoutDialog()"
                        class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"
                    >
                        Test Logout
                    </button>
                </div>

                <!-- English Logout Test -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
                        Test English Dialog
                    </h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">
                        Test the logout confirmation dialog with English text
                    </p>
                    <button 
                        onclick="testEnglishDialog()"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"
                    >
                        Test English
                    </button>
                </div>

                <!-- Custom Message Test -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
                        Test Custom Message
                    </h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">
                        Test with custom title, message, and button text
                    </p>
                    <button 
                        onclick="testCustomDialog()"
                        class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"
                    >
                        Test Custom
                    </button>
                </div>

                <!-- Theme Toggle -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
                        Theme Toggle
                    </h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">
                        Toggle between light and dark theme to test dialog appearance
                    </p>
                    <button 
                        onclick="toggleTheme()"
                        class="w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"
                    >
                        Toggle Theme
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
                    Test Results
                </h3>
                <div id="testResults" class="space-y-2">
                    <p class="text-gray-600 dark:text-gray-300">
                        Click the test buttons above to see results here...
                    </p>
                </div>
            </div>

            <!-- Back to Main -->
            <div class="text-center mt-8">
                <a 
                    href="/index.html"
                    class="inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors duration-200"
                >
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    Back to Dashboard
                </a>
            </div>
        </div>
    </div>

    <script>
        // Test logout dialog (Italian)
        async function testLogoutDialog() {
            const confirmed = await window.customDialog.confirm(
                'Conferma Logout',
                'Sei sicuro di voler uscire?',
                'Esci',
                'Annulla'
            );
            
            addTestResult('Logout Dialog', confirmed ? 'Confirmed' : 'Cancelled');
        }

        // Test English dialog
        async function testEnglishDialog() {
            const confirmed = await window.customDialog.confirm(
                'Confirm Logout',
                'Are you sure you want to logout?',
                'Logout',
                'Cancel'
            );
            
            addTestResult('English Dialog', confirmed ? 'Confirmed' : 'Cancelled');
        }

        // Test custom dialog
        async function testCustomDialog() {
            const confirmed = await window.customDialog.confirm(
                'Custom Action',
                'This is a custom message with different button text. Do you want to proceed?',
                'Proceed',
                'No Thanks'
            );
            
            addTestResult('Custom Dialog', confirmed ? 'Proceeded' : 'Declined');
        }

        // Toggle theme
        function toggleTheme() {
            const html = document.documentElement;
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                addTestResult('Theme Toggle', 'Switched to Light Theme');
            } else {
                html.classList.add('dark');
                addTestResult('Theme Toggle', 'Switched to Dark Theme');
            }
        }

        // Add test result to the results section
        function addTestResult(testName, result) {
            const resultsDiv = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString();
            
            const resultElement = document.createElement('div');
            resultElement.className = 'flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg';
            resultElement.innerHTML = `
                <div>
                    <span class="font-medium text-gray-900 dark:text-white">${testName}</span>
                    <span class="text-gray-600 dark:text-gray-300 ml-2">- ${result}</span>
                </div>
                <span class="text-sm text-gray-500 dark:text-gray-400">${timestamp}</span>
            `;
            
            // Add to the top of results
            resultsDiv.insertBefore(resultElement, resultsDiv.firstChild);
            
            // Keep only last 10 results
            const results = resultsDiv.querySelectorAll('div');
            if (results.length > 10) {
                results[results.length - 1].remove();
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            addTestResult('Page Loaded', 'Custom Dialog Test Page Ready');
        });
    </script>
</body>
</html> 